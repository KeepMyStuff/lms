<!-- LayoutTemplate -->
<template name="layout">
	<nav>
		<a class="{{isCurrent 'home'}}" href="{{pathFor 'home'}}">Home</a>
		{{#if user}}
			{{#if admin}}
				<a class="{{isCurrent 'admin'}}" href="{{pathFor 'admin'}}">Admin</a>
			{{else}}
				<a class="{{isCurrent 'me'}}" href="{{pathFor 'me'}}">Me</a>
			{{/if}}
			<p class="right-text">Logged in as <span class="current">{{user.username}}</span></p>
		{{else}}
			<a class="{{isCurrent 'login'}}" href="{{pathFor 'login'}}">Login</a>
		{{/if}}
	</nav>
	{{> yield}} <!-- Insert here the current router template -->
	{{#if loggingIn}}{{> loading}}{{/if}}
</template>

<!-- /me -->
<template name="me"><div id="me">
{{#if is 'teacher'}}{{> teacher}}{{/if}}
{{#if is 'student'}}{{> student}}{{/if}}
</div></template>

<!-- Error Showing template -->
<template name="error">
	<div align="center" class="error-container">
		{{#if error}}
		<div class="alert alert-danger">
			<button type="button" class="close">&times;</button>
			<strong>{{error.title}}</strong> {{error.msg}}
		</div>
		{{/if}}
	</div>
</template>

<!-- 404 -->
<template name="404">
	<div align="center">
		<h1>404</h1>
	</div>
</template>

<!-- loading spinner -->
<template name="loading">
	<div id="spinner">
		<i class="fa fa-circle-o-notch fa-spin"></i>
	</div>
</template>
